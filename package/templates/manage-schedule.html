
{% extends 'layout.html' %}

{% block body %}
{% if schedules | length < 1 %}
<br>
<h3 style="color: grey;">No Buses scheduled</h3>
{% else %}
<div class="table-container">
    <h4 style="color: grey;">Manage Schedules</h4><br>
<table class="table table-hov">
    <thead>
        <tr class="hover-row">
            <th scope="col">ID</th>
            <th scope="col">Date Added</th>
            <th scope="col">Departure</th>
            <th scope="col">Destination</th>
            <th scope="col">Bus Type</th>
            <th scope="col">Side Number</th>
            <th scope="col">Bus Picture</th>
            <th scope="col">Departure Date</th>
            <th scope="col">Departure Time</th>
            <th scope="col">Arrival Time</th>
            <th scope="col">Price</th>
            <th scope="col">Travel packages</th>
            <th scope="col">Seats reseved</th>
            <th scope="col">Actions</th>
        </tr>
    </thead>

    <tbody>
        {% for schedule, bus in schedules %}

        <tr class="hover-row">
            <th scope="row">{{ schedule.id }}</th>
            <td>{{ schedule.date_added }}</td>
            <td>{{ schedule.departure }}</td>
            <td>{{ schedule.destination }}</td>
            <td>{{ bus.bus_type }}</td>
            <td>{{ bus.side_number }}</td>
            <td>
                <img src="{{ bus.bus_picture }}" alt="" style="max-height: 50px; max-width: 80px; border-radius: 2px;">
            </td>
            <td>{{ schedule.departure_date }}</td>
            <td>{{ schedule.departure_time }}</td>
            <td>{{ schedule.arrival_time }}</td>
            <td>{{ schedule.price }}</td>
            <td>{{ schedule.travel_packages }}</td>
            <td>{{ reserved_seat_counts.get(schedule.id, 0) }}</td>
            <td>
                <div class="button-space">
                <a href="/update-schedule/{{ schedule.id }}" class="btn btn-primary">Update</a>
                <a href="/delete-schedule/{{ schedule.id }}" class="btn btn-primary2">Delete</a>
                </div>
            </td>
        </tr>


        {% endfor %}
    </tbody>
</table>
</div>

{% endif %}

<link rel="stylesheet" href="../static/css/manage2.css">
{% endblock %}